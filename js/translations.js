
// Textos traduzidos
const translations = {
  pt: {
    title: "Angoline",
    description: "A plataforma ideal<br>para fazer câmbio e comprar moedas de forma fácil e segura",
    p1: "Câmbio",
    p2: "Transferências",
    p3: "Divisas : € e Kz.",
    services: "<i class=\"fa-solid fa-wallet\"></i> SERVIÇOS",
    team: "<i class=\"fa fa-user\"></i> EQUIPA",
    start: "<i class=\"fa fa-usd\"></i> COMEÇAR",
    darkmode: "<i class=\"fa-solid fa-moon\" style=\"font-size: 20px;\"></i> MODO ESCURO",
    currencyWidget: "Taxa de câmbio",
    exchangeRate1: "1 € = 1150 Kz - (€ para Kz)",
    exchangeRate2: "1250 Kz = 1 € - (Kz para €)",
    footer: "Criado por José Muxito",
    history: "Histórico de câmbio",
    clearHistory: "Limpar",
    currencyConverter: "Conversor",
    insertValue: "Insira o valor",
    resultado: "Resultado",
    conversionMessage: "Já fez a sua conversão?",
    legalInfo: "Informações legais",
    usefulLinks: "Links úteis",
    socialMedia: "Redes sociais",
    aboutSite: "Sobre",
    faq: "FAQ",
    aboutAuthor: "Autor",
    termsOfUse: "Termos",
    privacyPolicy: "Privacidade",
    ourServices: "Os nossos serviços",
    currencySale: "Venda de moedas",
    currencyDescription: "Vendemos e oferecemos câmbios instantâneos com as seguintes moedas: € e Kz.",
    transfers: "Transferências",
    transferDescription: "Realizamos transferências bancárias seguras e rápidas entre diferentes instituições financeiras angolanas : BAI, BIC, BFA...",
    support: "Suporte",
    supportDescription: "Oferecemos serviço gratuito para quaisquer dificuldades ou dúvidas relacionadas aos nossos serviços.",
    whatsappInfo: "Basta clicar no ícone do WhatsApp localizado no canto inferior direito do ecrã.",
    servicesAvailable: "Usufrua dos nossos serviços!<br>Disponíveis 24/24",
    tellUs: "Compre a sua moeda",
    sendRequest: "Envia-nos o seu pedido",
    currencyToBuy: "Moeda a comprar",
    currencyOptionsPlaceholder: "€, EUR, Kz ou AOA",
    amountToPay: "Montante a pagar",
    transactionTypePlaceholder: "Digite o valor",
    send: "Enviar",
    thankYou: "Obrigado por utilizar os nossos serviços<br>Volte sempre!",
    insiraOnlyNumbers: "Insira apenas números",
    insertOnlyCurrency: "Insira apenas €, EUR, Kz ou AOA",
    whoWeAre: "Quem nós somos",
    exchangeManager: "Gestora de câmbio",
    contactUs: "Contactar",
    coFounder: "Co-fundador",
    studentOrleans: "Estudante na Universidade de Orléans Châteauroux, França.",
    transactionOperator: "Operador de transações",
    studentLyon: "Estudante na Universidade Claude Bernard Lyon 1, França.",
    ceoAndFounder: "CEO & fundador",
    ourTeamAvailable: "A nossa equipa está ao vosso dispor<br>Contacte-nos sempre que quiser!",
    clickOn: "Clique aqui!",
  },
  en: {
    title: "Angoline",
    description: "The ideal platform<br>for exchanging and purchasing currencies easily and securely",
    p1: "Exchange",
    p2: "Transfers",
    p3: "Currencies: € and Kz",
    services: "<i class=\"fa-solid fa-wallet\"></i> SERVICES",
    team: "<i class=\"fa fa-user\"></i> TEAM",
    start: "<i class=\"fa fa-usd\"></i> START",
    darkmode: "<i class=\"fa-solid fa-moon\" style=\"font-size: 20px;\"></i> DARK MODE",
    currencyWidget: "Exchange Rate",
    exchangeRate1: "1 € = 1150 Kz - (€ to Kz)",
    exchangeRate2: "1250 Kz = 1 € - (Kz to €)",
    footer: "Created by José Muxito",
    history: "Exchange History",
    clearHistory: "Clear",
    currencyConverter: "Converter",
    insertValue: "Enter the value",
    resultado: "Result",
    conversionMessage: "Have you completed your conversion?",
    legalInfo: "Legal information",
    usefulLinks: "Useful links",
    socialMedia: "Social media",
    aboutSite: "About",
    faq: "FAQ",
    aboutAuthor: "Author",
    termsOfUse: "Terms",
    privacyPolicy: "Privacy",
    ourServices: "Our services",
    currencySale: "Currency sale",
    currencyDescription: "We sell and offer instant currency exchanges with the following currencies: € and Kz.",
    transfers: "Transfers",
    transferDescription: "We perform secure and fast bank transfers between different Angolan financial institutions: BAI, BIC, BFA...",
    support: "Support",
    supportDescription: "We offer free service for any difficulties or questions related to our services.",
    whatsappInfo: "Just click on the WhatsApp icon located in the bottom right corner of the screen.",
    servicesAvailable: "Take advantage of our services!<br>Available 24/24",
    tellUs: "Buy your currency",
    sendRequest: "Send us your request",
    currencyToBuy: "Currency to buy",
    currencyOptionsPlaceholder: "€, EUR, Kz or AOA",
    amountToPay: "Amount to pay",
    transactionTypePlaceholder: "Enter the value",
    send: "Send",
    thankYou: "Thank you for using our services<br>Come back soon!",
    insiraOnlyNumbers: "Enter numbers only",
    insertOnlyCurrency: "Enter only €, EUR, Kz, or AOA",
    whoWeAre: "Who we are",
    exchangeManager: "Exchange manager",
    contactUs: "Contact",
    coFounder: "Co-founder",
    studentOrleans: "Student at the University of Orléans Châteauroux, France.",
    transactionOperator: "Transaction operator",
    studentLyon: "Student at Claude Bernard Lyon 1 University, France.",
    ceoAndFounder: "CEO & founder",
    ourTeamAvailable: "Our team is at your service<br>Contact us anytime!",
    clickOn: "Click here!",
  },
  fr: {
    title: "Angoline",
    description: "La plateforme idéale<br>pour changer et acheter des devises facilement et en toute sécurité",
    p1: "Change",
    p2: "Transferts",
    p3: "Devises : € et Kz",
    services: "<i class=\"fa-solid fa-wallet\"></i> SERVICES",
    team: "<i class=\"fa fa-user\"></i> ÉQUIPE",
    start: "<i class=\"fa fa-usd\"></i> COMMENCER",
    darkmode: "<i class=\"fa-solid fa-moon\" style=\"font-size: 20px;\"></i> MODE SOMBRE",
    currencyWidget: "Taux de change",
    exchangeRate1: "1 € = 1150 Kz - (€ vers Kz)",
    exchangeRate2: "1250 Kz = 1 € - (Kz vers €)",
    footer: "Créé par José Muxito",
    history: "Historique des échanges",
    clearHistory: "Effacer",
    currencyConverter: "Convertisseur",
    insertValue: "Tapez la valeur",
    resultado: "Résultat",
    conversionMessage: "Avez-vous terminé votre conversion ?",
    legalInfo: "Informations légales",
    usefulLinks: "Liens utiles",
    socialMedia: "Réseaux sociaux",
    aboutSite: "Sur",
    faq: "FAQ",
    aboutAuthor: "L'auteur",
    termsOfUse: "Conditions",
    privacyPolicy: "Confidentialité",
    ourServices: "Nos services",
    currencySale: "Vente de devises",
    currencyDescription: "Nous vendons et proposons des échanges de devises instantanés avec les devises suivantes : € et Kz.",
    transfers: "Transferts",
    transferDescription: "Nous effectuons des transferts bancaires sécurisés et rapides entre différentes institutions financières angolaises : BAI, BIC, BFA...",
    support: "Service Client",
    supportDescription: "Nous offrons un service gratuit pour toute difficulté ou question liée à nos services.",
    whatsappInfo: "Il suffit de cliquer sur l'icône WhatsApp située en bas à droite de l'écran.",
    servicesAvailable: "Profitez de nos services!<br>Disponibles 24/24",
    tellUs: "Achetez votre devise",
    sendRequest: "Envoyez-nous votre demande",
    currencyToBuy: "Devise à acheter",
    currencyOptionsPlaceholder: "€, EUR, Kz ou AOA",
    amountToPay: "Montant à payer",
    transactionTypePlaceholder: "Tapez la valeur",
    send: "Envoyer",
    thankYou: "Merci d'utiliser nos services<br>Revenez bientôt!",
    insiraOnlyNumbers: "Tapez uniquement des chiffres",
    insertOnlyCurrency: "Tapez uniquement €, EUR, Kz ou AOA",
    whoWeAre: "Qui nous sommes",
    exchangeManager: "Gestionnaire de change",
    contactUs: "Contacter",
    coFounder: "Co-fondateur",
    studentOrleans: "Étudiant à l'Université d'Orléans Châteauroux, France.",
    transactionOperator: "Opérateur de transactions",
    studentLyon: "Étudiant à l'Université Claude Bernard Lyon 1, France.",
    ceoAndFounder: "CEO et fondateur",
    ourTeamAvailable: "Notre équipe est à votre disposition<br>Contactez-nous à tout moment!",
    clickOn: "Cliquez ici!",
  }
};

// Elementos
const languageButton = document.getElementById("language-button");
const languageOptions = document.getElementById("language-options");
const langOptionButtons = document.querySelectorAll(".lang-option");

// Função para detectar o idioma atual
function detectLanguage() {
  const currentLanguage = localStorage.getItem("selectedLanguage") || "pt"; // Idioma padrão: Português
  updateButtonFlag(currentLanguage);
  applyTranslation(currentLanguage);
}

// Atualiza a bandeira no botão com base no idioma
function updateButtonFlag(language) {
  const selectedOption = document.querySelector(`.lang-option[data-lang="${language}"] img`);
  if (selectedOption) {
    const languageFlag = document.getElementById("language-flag");
    if (languageFlag) {
      languageFlag.src = selectedOption.src;
      languageFlag.alt = selectedOption.alt;
      languageFlag.style.display = "block";
    }
  }
}

// Aplica a tradução com base no idioma selecionado
function applyTranslation(lang) {
  if (translations[lang]) {

    // Atualiza elementos específicos
    const updateTextContent = (selector, key) => {
      const element = document.querySelector(selector);
      if (element) element.innerHTML = translations[lang][key];
    };



    updateTextContent("#title", "title");
    updateTextContent("#p1", "p1");
    updateTextContent("#p2", "p2");
    updateTextContent("#p3", "p3");
    updateTextContent("[data-key='services']", "services");
    updateTextContent("[data-key='team']", "team");
    updateTextContent("[data-key='start']", "start");
    updateTextContent("#currencyWidget", "currencyWidget");
    updateTextContent("#exchangeRate1", "exchangeRate1");
    updateTextContent("#exchangeRate2", "exchangeRate2");
    updateTextContent("#history", "history");
    updateTextContent("[data-key='clearHistory']", "clearHistory");
    updateTextContent("#currencyConverter", "currencyConverter");

    // Atualiza o rodapé
    document.querySelectorAll("[data-key='footer']").forEach((element) => {
      element.textContent = translations[lang].footer;});
    document.querySelectorAll("[data-key='aboutSite']").forEach((element) => {
      element.textContent = translations[lang].aboutSite;  });
    document.querySelectorAll("[data-key='faq']").forEach((element) => {
      element.textContent = translations[lang].faq;});
    document.querySelectorAll("[data-key='aboutAuthor']").forEach((element) => {
      element.textContent = translations[lang].aboutAuthor;});
    document.querySelectorAll("[data-key='termsOfUse']").forEach((element) => {
      element.textContent = translations[lang].termsOfUse;});
    document.querySelectorAll("[data-key='privacyPolicy']").forEach((element) => {
      element.textContent = translations[lang].privacyPolicy;});
    document.querySelectorAll("[data-key='legalInfo']").forEach((element) => {
      element.textContent = translations[lang].legalInfo;});
    document.querySelectorAll("[data-key='usefulLinks']").forEach((element) => {
      element.textContent = translations[lang].usefulLinks;});
    document.querySelectorAll("[data-key='socialMedia']").forEach((element) => {
      element.textContent = translations[lang].socialMedia;});
    document.querySelectorAll("[data-key='ourServices']").forEach((element) => {
      element.textContent = translations[lang].ourServices;
    });
    document.querySelectorAll("[data-key='currencySale']").forEach((element) => {
      element.textContent = translations[lang].currencySale;
    });
    document.querySelectorAll("[data-key='currencyDescription']").forEach((element) => {
      element.textContent = translations[lang].currencyDescription;
    });
    document.querySelectorAll("[data-key='transfers']").forEach((element) => {
      element.textContent = translations[lang].transfers;
    });
    document.querySelectorAll("[data-key='transferDescription']").forEach((element) => {
      element.textContent = translations[lang].transferDescription;
    });
    document.querySelectorAll("[data-key='support']").forEach((element) => {
      element.textContent = translations[lang].support;
    });
    document.querySelectorAll("[data-key='supportDescription']").forEach((element) => {
      element.textContent = translations[lang].supportDescription;
    });
    document.querySelectorAll("[data-key='whatsappInfo']").forEach((element) => {
      element.textContent = translations[lang].whatsappInfo;
    });
    document.querySelectorAll("[data-key='tellUs']").forEach((element) => {
      element.textContent = translations[lang].tellUs;
    });
    document.querySelectorAll("[data-key='sendRequest']").forEach((element) => {
      element.textContent = translations[lang].sendRequest;
    });
    document.querySelectorAll("[data-key='currencyToBuy']").forEach((element) => {
      element.textContent = translations[lang].currencyToBuy;
    });
    document.querySelectorAll("[data-key='amountToPay']").forEach((element) => {
      element.textContent = translations[lang].amountToPay;
    });
    document.querySelectorAll("[data-key='send']").forEach((element) => {
      element.textContent = translations[lang].send;
    });
    document.querySelectorAll("[data-key='insiraOnlyNumbers']").forEach((element) => {
      element.textContent = translations[lang].insiraOnlyNumbers;
    });
    document.querySelectorAll("[data-key='insertOnlyCurrency']").forEach((element) => {
      element.textContent = translations[lang].insertOnlyCurrency;
    });
    document.querySelectorAll("[data-key='whoWeAre']").forEach((element) => {
      element.textContent = translations[lang].whoWeAre;
    });
    document.querySelectorAll("[data-key='exchangeManager']").forEach((element) => {
      element.textContent = translations[lang].exchangeManager;
    });
    document.querySelectorAll("[data-key='contactUs']").forEach((element) => {
      element.textContent = translations[lang].contactUs;
    });
    document.querySelectorAll("[data-key='coFounder']").forEach((element) => {
      element.textContent = translations[lang].coFounder;
    });
    document.querySelectorAll("[data-key='studentOrleans']").forEach((element) => {
      element.textContent = translations[lang].studentOrleans;
    });
    document.querySelectorAll("[data-key='transactionOperator']").forEach((element) => {
      element.textContent = translations[lang].transactionOperator;
    });
    document.querySelectorAll("[data-key='studentLyon']").forEach((element) => {
      element.textContent = translations[lang].studentLyon;
    });
    document.querySelectorAll("[data-key='ceoAndFounder']").forEach((element) => {
      element.textContent = translations[lang].ceoAndFounder;
    });
    document.querySelectorAll("[data-key='clickOn']").forEach((element) => {
      element.textContent = translations[lang].clickOn;
    });


    // Atualizar placeholders
    const campo1 = document.getElementById("campo-1");
    const campo2 = document.getElementById("campo-2");
    const conversionMessage = document.getElementById("conversion-message");
    const thankYou = document.getElementById("thankYou");
    const servicesAvailable = document.getElementById("servicesAvailable");
    const ourTeamMessage = document.getElementById("our-team-message");
    const services = document.getElementById("services");
    const start = document.getElementById("start");
    const team = document.getElementById("team");
    const darkmode = document.getElementById("darkmode");
    const description = document.getElementById("description");


    if (campo1) {
      campo1.setAttribute("placeholder", translations[lang].insertValue);
    }
    if (campo2) {
      campo2.setAttribute("placeholder", translations[lang].resultado);
    }
    if (conversionMessage) {
      conversionMessage.innerHTML = translations[lang].conversionMessage;
    }
    if (thankYou) {
      thankYou.innerHTML = translations[lang].thankYou;
    }
    if (servicesAvailable) {
      servicesAvailable.innerHTML = translations[lang].servicesAvailable;
    }
    if (ourTeamMessage) {
      ourTeamMessage.innerHTML = translations[lang].ourTeamAvailable;
    }
    if (services) {
      services.innerHTML = translations[lang].services;
    }
    if (start) {
      start.innerHTML = translations[lang].start;
    }
    if (team) {
      team.innerHTML = translations[lang].team;
    }
    if (darkmode) {
      darkmode.innerHTML = translations[lang].darkmode;
    }
    if (description) {
      description.innerHTML = translations[lang].description;
    }


    // Atualizar novos placeholders (currencyOptionsPlaceholder e transactionTypePlaceholder)
    const currencyOptionsPlaceholder = document.getElementById("name-1");
    const transactionTypePlaceholder = document.getElementById("message-2");

    if (currencyOptionsPlaceholder) {
      currencyOptionsPlaceholder.setAttribute(
        "placeholder",
        translations[lang].currencyOptionsPlaceholder
      );
    }

    if (transactionTypePlaceholder) {
      transactionTypePlaceholder.setAttribute(
        "placeholder",
        translations[lang].transactionTypePlaceholder
      );
    }

  }
}

// Mostrar ou esconder a lista de idiomas
if (languageButton && languageOptions) {
  languageButton.addEventListener("click", () => {
    languageOptions.classList.toggle("active");
  });

  document.addEventListener("click", (e) => {
    if (!languageOptions.contains(e.target) && e.target !== languageButton) {
      languageOptions.classList.remove("active");
    }
  });
}

// Troca o idioma e atualiza o botão
langOptionButtons.forEach((button) => {
  button.addEventListener("click", () => {
    const selectedLang = button.getAttribute("data-lang");
    localStorage.setItem("selectedLanguage", selectedLang); // Salva no localStorage
    updateButtonFlag(selectedLang); // Atualiza a bandeira
    applyTranslation(selectedLang); // Aplica a tradução
    languageOptions.classList.remove("active"); // Fecha o menu
  });
});

// Aplica o idioma salvo ao carregar a página
document.addEventListener("DOMContentLoaded", () => {
  detectLanguage();
});

