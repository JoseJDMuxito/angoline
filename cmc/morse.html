<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Morse - Code Quest</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/morse.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <!-- Google Tag Manager e Google Analytics -->
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9GBE45L8NM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-9GBE45L8NM');
  </script>

  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){
      w[l] = w[l] || [];
      w[l].push({'gtm.start': new Date().getTime(), event:'gtm.js'});
      var f = d.getElementsByTagName(s)[0],
              j = d.createElement(s),
              dl = l != 'dataLayer' ? '&l=' + l : '';
      j.async = true;
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-MXS6LZS6');
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Angoline",
      "url": "https://www.angoline.net",
      "logo": "https://www.angoline.net/img/LOGO.png",
      "sameAs": [
        "https://www.facebook.com/jose.gelson.988",
        "https://x.com/jose__muxito",
        "https://www.linkedin.com/in/jos%C3%A9-muxito-0a2502329/",
        "https://www.instagram.com/jose_muxit0/"
      ]
    }
  </script>
</head>
<body>
<div class="app-container">
  <header>
    <div class="logo">
      <a href="cmc.html"><span class="play-symbol" style="color: var(--text-color);">▶</span> PLAY CmC</a>
    </div>
    <nav class="nav-links">
      <a href="cmc.html" data-i18n="inicio">Início</a>
      <a href="#" id="opcoes-link" data-i18n="opcoes">Opções</a>
      <button id="theme-toggle" aria-label="Toggle dark mode">
        <i class="fas fa-moon"></i>
      </button>
    </nav>
  </header>

  <main>
    <div class="morse-game-container">
      <div class="morse-display" id="morse-code"></div>

      <div class="game-stats">
        <div class="stat correct"><span id="correct-count">0</span> ✓</div>
        <div class="stat time"><span id="time-counter">0s</span></div>
        <div class="stat incorrect"><span id="incorrect-count">0</span> ✕</div>
      </div>

      <div class="game-answer-container">
        <input type="text" id="answer-input" class="answer-input" placeholder="Resultado..." data-i18n-placeholder="resultado_placeholder" autocomplete="off">
        <button id="submit-answer" class="submit-btn" data-i18n="confirmar">Confirmar</button>
      </div>

      <div class="morse-buttons">
        <button id="play-sound" class="morse-btn">
          <i class="fas fa-volume-up"></i> <span data-i18n="ouvir">Ouvir</span>
        </button>
        <button id="show-hint" class="morse-btn">
          <i class="fas fa-lightbulb"></i> <span data-i18n="dica">Dica</span>
        </button>
      </div>

      <div class="history-container">
        <button class="history-toggle" id="history-toggle">
          <i class="fas fa-chevron-down"></i>
          <span data-i18n="historico">Histórico</span>
        </button>
        <div class="history-content" id="history-content">
          <ul id="history-list">
            <!-- History items will be added here -->
          </ul>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="copyright" data-i18n="copyright">© 2025 <span class="play-symbol">▶</span> PLAY CmC. Todos os direitos reservados.</div>
    <div class="footer-links">
      <a href="contacto.html" data-i18n="contato">Contacto</a>
      <a href="preview.html" data-i18n="preview">Preview</a>
      <a href="#" id="github-link">Github</a>
    </div>
  </footer>
</div>

<div class="score-modal" id="score-popup">
  <div class="score-modal-content">
    <div class="score-modal-header">
      <h2 data-i18n="pontuacao">Pontuação</h2>
    </div>
    <ul class="score-list">
      <li class="score-item correct">
        <div class="score-label">
          <i class="fas fa-check"></i>
          <span data-i18n="certos">Certos</span>
        </div>
        <div class="score-value" id="popup-correct">0</div>
      </li>
      <li class="score-item incorrect">
        <div class="score-label">
          <i class="fas fa-times"></i>
          <span data-i18n="errados">Errados</span>
        </div>
        <div class="score-value" id="popup-incorrect">0</div>
      </li>
      <li class="score-item time">
        <div class="score-label">
          <i class="fas fa-clock"></i>
          <span data-i18n="tempo">Tempo</span>
        </div>
        <div class="score-value" id="popup-time">0</div>
      </li>
    </ul>
    <button id="restart-btn" class="score-restart-btn" data-i18n="reiniciar">Reiniciar</button>
  </div>
</div>

<div class="morse-reference" id="morse-reference">
  <div class="reference-header">
    <h3 data-i18n="referencia_morse">Referência de Código Morse</h3>
    <button id="close-reference" class="close-btn">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="reference-content">
    <div class="reference-column">
      <h4 data-i18n="letras">Letras</h4>
      <ul>
        <li>A: • —</li>
        <li>B: — • • •</li>
        <li>C: — • — •</li>
        <li>D: — • •</li>
        <li>E: •</li>
        <li>F: • • — •</li>
        <li>G: — — •</li>
        <li>H: • • • •</li>
        <li>I: • •</li>
        <li>J: • — — —</li>
        <li>K: — • —</li>
        <li>L: • — • •</li>
        <li>M: — —</li>
      </ul>
    </div>
    <div class="reference-column">
      <h4 data-i18n="letras_cont">Letras (cont.)</h4>
      <ul>
        <li>N: — •</li>
        <li>O: — — —</li>
        <li>P: • — — •</li>
        <li>Q: — — • —</li>
        <li>R: • — •</li>
        <li>S: • • •</li>
        <li>T: —</li>
        <li>U: • • —</li>
        <li>V: • • • —</li>
        <li>W: • — —</li>
        <li>X: — • • —</li>
        <li>Y: — • — —</li>
        <li>Z: — — • •</li>
      </ul>
    </div>
    <div class="reference-column">
      <h4 data-i18n="numeros">Números</h4>
      <ul>
        <li>0: — — — — —</li>
        <li>1: • — — — —</li>
        <li>2: • • — — —</li>
        <li>3: • • • — —</li>
        <li>4: • • • • —</li>
        <li>5: • • • • •</li>
        <li>6: — • • • •</li>
        <li>7: — — • • •</li>
        <li>8: — — — • •</li>
        <li>9: — — — — •</li>
      </ul>
    </div>
  </div>
</div>

<div id="settings-modal" class="modal">
  <div class="modal-content">
    <h2 data-i18n="titulo_morse">Morse</h2>

    <div class="settings-group">
      <label data-i18n="tempo_maximo">Tempo máximo</label>
      <div class="select-container">
        <select id="time-limit">
          <option value="15" data-i18n="segundos_15">15 segundos</option>
          <option value="30" data-i18n="segundos_30">30 segundos</option>
          <option value="60" selected data-i18n="minuto_1">1 minuto</option>
          <option value="300" data-i18n="minutos_5">5 minutos</option>
          <option value="600" data-i18n="minutos_10">10 minutos</option>
          <option value="1800" data-i18n="minutos_30">30 minutos</option>
          <option value="0" data-i18n="sem_limite">Sem limite</option>
        </select>
        <span class="select-arrow">▼</span>
      </div>
    </div>

    <div class="settings-group">
      <label data-i18n="modo_morse">Modo morse</label>
      <div class="scroll-container">
        <div class="mode-buttons">
          <button id="mode-letters" class="mode-btn active" data-i18n="letras">Letras</button>
          <button id="mode-numbers" class="mode-btn" data-i18n="numeros">Números</button>
          <button id="mode-symbols" class="mode-btn" data-i18n="simbolos">Símbolos</button>
          <button id="mode-mixed" class="mode-btn" data-i18n="misto">Misto</button>
        </div>
      </div>
    </div>

    <div class="settings-group">
      <label data-i18n="velocidade_som">Velocidade do som</label>
      <div class="scroll-container">
        <div class="speed-buttons">
          <button id="speed-slow" class="speed-btn active" data-i18n="lento">Lento</button>
          <button id="speed-medium" class="speed-btn" data-i18n="medio">Médio</button>
          <button id="speed-fast" class="speed-btn" data-i18n="rapido">Rápido</button>
        </div>
      </div>
    </div>

    <div class="settings-group">
      <label data-i18n="dificuldade">Dificuldade</label>
      <div class="scroll-container">
        <div class="difficulty-buttons">
          <button id="difficulty-easy" class="difficulty-btn active" data-i18n="facil">Fácil</button>
          <button id="difficulty-medium" class="difficulty-btn" data-i18n="medio">Médio</button>
          <button id="difficulty-hard" class="difficulty-btn" data-i18n="dificil">Difícil</button>
        </div>
      </div>
    </div>

    <button id="close-settings" class="modal-close" data-i18n="fechar">Fechar</button>
  </div>
</div>

<div id="opcoes-modal" class="modal">
  <div class="modal-content">
    <h2 data-i18n="opcoes">Opções</h2>
    <div class="option-group">
      <label for="theme" data-i18n="tema">Tema:</label>
      <select id="theme">
        <option value="light" data-i18n="tema_claro">Claro</option>
        <option value="dark" data-i18n="tema_escuro">Escuro</option>
        <option value="auto" data-i18n="tema_auto">Automático</option>
      </select>
    </div>
    <div class="option-group">
      <label for="language" data-i18n="idioma">Idioma:</label>
      <select id="language">
        <option value="pt-BR">Português (Brasil)</option>
        <option value="en">English</option>
        <option value="fr">Français</option>
      </select>
    </div>
    <div class="option-group">
      <label for="sound" data-i18n="som">Som:</label>
      <div class="toggle-switch">
        <input type="checkbox" id="sound" checked>
        <label for="sound"></label>
      </div>
    </div>
    <button id="close-modal" class="modal-close" data-i18n="fechar">Fechar</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
<script src="js/utils.js"></script>
<script src="js/translations.js"></script>
<script src="js/app.js"></script>
<script src="js/morse.js"></script>
</body>
</html>
